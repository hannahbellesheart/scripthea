(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8789],{30882:function(e,t,r){var i,o=Object.create,a=Object.defineProperty,l=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,c=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,m=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f=(e,t,r,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of n(t))!d.call(e,o)&&o!==r&&a(e,o,{get:()=>t[o],enumerable:!(i=l(t,o))||i.enumerable});return e},p={};((e,t)=>{for(var r in t)a(e,r,{get:t[r],enumerable:!0})})(p,{FollowButton:()=>w}),e.exports=(i=p,f(a({},"__esModule",{value:!0}),i));var h=((e,t,r)=>(r=null!=e?o(c(e)):{},f(!t&&e&&e.__esModule?r:a(r,"default",{value:e,enumerable:!0}),e)))(r(67294)),g=(r(45697),r(77569)),b=r(53472),y=r(93247),w=({handleClickFollow:e,color:t="gray-dark",variation:r="link",isFollowing:i=!1})=>{let o=i?y.Check16:b.Add16,a=i?"Following":"Follow",l=i?"Unfollow author":"Follow author",n="pill"===r,c=n?"16":"10",f="gold"===t?"gold-outline":"gray-dark-outline",p=h.default.createElement(o,{className:"mr-xxs",size:c,viewBox:"0 0 16 16",fill:t}),w=n?g.Button:"button",C={onClick:e,className:`focus-highlight transition-width duration-200 ease-in-out inline-flex items-center justify-center bold pointer ${t}`,"data-cy":"author-follow-button","aria-pressed":i,[n?"ariaLabel":"aria-label"]:l,dataFollowStatus:i?"isfollowing":"notfollowing",style:n?{width:i?140:120}:{width:i?75:55}};return n&&(C.size="small",C.color=f),h.default.createElement(w,((e,t)=>{for(var r in t||(t={}))d.call(t,r)&&m(e,r,t[r]);if(s)for(var r of s(t))u.call(t,r)&&m(e,r,t[r]);return e})({},C),p,a)}},10183:function(e,t,r){var i,o=Object.create,a=Object.defineProperty,l=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,c=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,m=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f=(e,t)=>{for(var r in t||(t={}))d.call(t,r)&&m(e,r,t[r]);if(s)for(var r of s(t))u.call(t,r)&&m(e,r,t[r]);return e},p=(e,t)=>{var r={};for(var i in e)d.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&s)for(var i of s(e))t.indexOf(i)<0&&u.call(e,i)&&(r[i]=e[i]);return r},h=(e,t,r,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of n(t))!d.call(e,o)&&o!==r&&a(e,o,{get:()=>t[o],enumerable:!(i=l(t,o))||i.enumerable});return e},g=(e,t,r)=>(r=null!=e?o(c(e)):{},h(!t&&e&&e.__esModule?r:a(r,"default",{value:e,enumerable:!0}),e)),b={};((e,t)=>{for(var r in t)a(e,r,{get:t[r],enumerable:!0})})(b,{Avatar:()=>S,AvatarGroup:()=>k,Image:()=>x}),e.exports=(i=b,h(a({},"__esModule",{value:!0}),i));var y=g(r(67294)),w=g(r(45697)),C=r(67294),v=r(48016),x=e=>{var t=e,{src:r,alt:i="Image without a caption",width:o,height:a,borderWidth:l="0",isAmp:n=!1,className:s,as:c="figure"}=t,d=p(t,["src","alt","width","height","borderWidth","isAmp","className","as"]);let u=c||"figure",m=(0,y.useRef)(),h=(0,y.useRef)(),g=(({turnOff:e,ref:t,rootMargin:r,threshold:i,delay:o=400})=>{let[a,l]=(0,C.useState)(!1);return(0,C.useEffect)((()=>{let e,a,n=typeof window.IntersectionObserver<"u",s=t.current;return n&&(e=new IntersectionObserver((([e])=>{e.isIntersecting&&(a=setTimeout((function(){l(e.isIntersecting)}),o))}),{root:null,rootMargin:r,threshold:i})),n&&s&&e.observe(s),()=>{n&&e.unobserve(s),clearTimeout(a)}}),[]),!!e||a})({ref:m}),[b,w]=(0,y.useState)({width:o,height:a}),[x,O]=(0,y.useState)("");(0,y.useEffect)((()=>{var e;w({width:(e=o)&&e.width,height:e&&e.height}),O(r)}),[o]);let[S,k]=y.default.useState(0);return y.default.useEffect((()=>{g&&k(1)}),[g]),y.default.createElement(u,f({"aria-hidden":"true",className:(0,v.getClasses)("hide-for-print mw-100 dib bg-gray-lightest h-auto overflow-hidden brad-50",{"bw-0":"0"===l,bw:"1"===l,"bw-thin":"2"===l,[s]:s}),ref:m,style:{width:`${b.width}px`,height:`${b.height}px`}},d),y.default.createElement("div",{className:(0,v.getClasses)("transition-opacity duration-400 ease-in-out",{opacity:S,transition:"opacity 400ms ease-in-out","o-100":g||n,"o-0":g&&!!n})},g&&!n?y.default.createElement("img",{"data-chromatic":"ignore",ref:h,loading:"lazy",src:x,alt:i,className:"mw-100 h-auto brad-50",width:b.width,height:b.height}):null,n?y.default.createElement("amp-img",{alt:i,src:r,width:b.width,height:b.height,class:"mw-100 h-auto brad-50",layout:"fixed"}):null))},O={"extra-large":{width:"180",height:"180",borderWidth:"2"},large:{width:"92",height:"92",borderWidth:"2"},medium:{width:"56",height:"56",borderWidth:"1"},small:{width:"32",height:"32",borderWidth:"1"}},S=y.default.forwardRef(((e,t)=>{var r=e,{imgUrl:i,size:o="medium",alt:a,className:l}=r,n=p(r,["imgUrl","size","alt","className"]);return y.default.createElement(x,f({ref:t,src:i,alt:a,width:O[o].width,height:O[o].height,className:l},n))}));S.propTypes={imgUrl:w.default.string.isRequired,alt:w.default.string,size:w.default.oneOf(["extra-large","large","medium","small"])},S.displayName="Avatar";var k=(0,y.forwardRef)((function(e,t){var r=e,{children:i,size:o="medium",showAll:a=!1,className:l,as:n="div"}=r,s=p(r,["children","size","showAll","className","as"]);let c=n||"div",d=a?0:y.default.Children.count(i)-3,u=d>=1,m=y.default.Children.toArray(i);m.length=a?y.default.Children.count(i):3;let h={small:"mr-xxs",medium:"mr-xs"};return y.default.createElement(c,f({className:(0,v.getClasses)("flex mb-sm",{[l]:l}),ref:t},s),m.map(((e,t)=>{let r=t===m.length-1;return y.default.isValidElement(e)?y.default.createElement("div",{key:t,className:(0,v.getClasses)("",{[h[o]]:!1===r})},y.default.createElement(S,{size:o,imgUrl:e.props.imgUrl})):e})),u&&y.default.createElement("div",{className:(0,v.getClasses)("self-center gray-dark",{[{small:"ml-xs font-xxs mb-xxs",medium:"ml-sm font-xs mb-xxs"}[o]]:!0})},"+",d))}));k.displayName="AvatarGroup"},53472:function(e,t,r){var i,o=Object.create,a=Object.defineProperty,l=Object.defineProperties,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,u=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,p=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var r in t||(t={}))m.call(t,r)&&p(e,r,t[r]);if(d)for(var r of d(t))f.call(t,r)&&p(e,r,t[r]);return e},g=(e,t)=>{var r={};for(var i in e)m.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&d)for(var i of d(e))t.indexOf(i)<0&&f.call(e,i)&&(r[i]=e[i]);return r},b=(e,t,r,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of c(t))!m.call(e,o)&&o!==r&&a(e,o,{get:()=>t[o],enumerable:!(i=n(t,o))||i.enumerable});return e},y=(e,t,r)=>(r=null!=e?o(u(e)):{},b(!t&&e&&e.__esModule?r:a(r,"default",{value:e,enumerable:!0}),e)),w={};((e,t)=>{for(var r in t)a(e,r,{get:t[r],enumerable:!0})})(w,{Add16:()=>S}),e.exports=(i=w,b(a({},"__esModule",{value:!0}),i));r(45697);var C=y(r(67294)),v=(r(45697),y(r(67294))),x=r(48016),O=v.default.forwardRef((function(e,t){let r=e,{className:i="",size:o="16",fillRule:a="nonzero",fill:n="",title:c="",path:d="",viewBox:u=""}=r,m=g(r,["className","size","fillRule","fill","title","path","viewBox"]),f=n?`fill-${n}`:"";return d?v.default.createElement("svg",((e,t)=>l(e,s(t)))(h({ref:t,className:(0,x.getClasses)("content-box",{[f]:f,[i]:i}),width:o,height:o,viewBox:u||`0 0 ${o} ${o}`,xmlns:"http://www.w3.org/2000/svg"},m),{"aria-hidden":"true",focusable:"false",role:"img"}),""!==c&&v.default.createElement("title",null,c),v.default.createElement("path",{d:d,fillRule:a})):null}));O.displayName="IconBase";var S=C.default.forwardRef((function(e,t){let r=e,{className:i,fill:o,size:a="16",title:l="Add"}=r,n=g(r,["className","fill","size","title"]);return C.default.createElement(O,h({ref:t,className:i,fill:o,title:l,size:a,path:"M7 7V1h2v6h5.929v2H9v5.929H7V9H1V7h6z",fillRule:"nonzero"},n))}));S.displayName="Add16"},61749:function(e,t,r){var i,o=Object.create,a=Object.defineProperty,l=Object.defineProperties,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,u=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,p=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var r in t||(t={}))m.call(t,r)&&p(e,r,t[r]);if(d)for(var r of d(t))f.call(t,r)&&p(e,r,t[r]);return e},g=(e,t)=>l(e,s(t)),b=(e,t,r,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of c(t))!m.call(e,o)&&o!==r&&a(e,o,{get:()=>t[o],enumerable:!(i=n(t,o))||i.enumerable});return e},y=(e,t,r)=>(r=null!=e?o(u(e)):{},b(!t&&e&&e.__esModule?r:a(r,"default",{value:e,enumerable:!0}),e)),w={};((e,t)=>{for(var r in t)a(e,r,{get:t[r],enumerable:!0})})(w,{TermsOfService:()=>J,useTermsOfServiceData:()=>B}),e.exports=(i=w,b(a({},"__esModule",{value:!0}),i));var C=y(r(67294)),v=(r(45697),e=>{if(typeof window>"u")return;let t=document.cookie.match(`(^|;) ?${e}=([^;]*)(;|$)`);return t?t[2]:null}),x=e=>new Promise((t=>e.json().then((r=>t({status:e.status,ok:e.ok,json:r}))))),O=e=>{if(!e.ok)throw e.json||e;return e.json},S={Accept:"application/json","Content-Type":"application/json"},k=(e,t={method:"GET"})=>{let r=t;return r.headers=h(h({},t.headers),S),fetch(e,r).then(x).then(O)},N="wapo_identity",_={consentCountry:"",tos:""},E=()=>{let e=typeof window>"u"?"":window.location&&window.location.hostname||"",t="prod";return/(pb-impact\.|subs-stage\.|sandbox\.|.preview.now.washingtonpost.com|localhost.washingtonpost.com)/.test(e)?t="sandbox":/dev\.washpost|localhost|digitalink\.com/.test(e)&&(t="dev"),t},T=()=>{let e=typeof window>"u"?"":window.location&&window.location.hostname||"";return/(subscribe\.|subscription\.|subs-stage\.|local.digitalink\.)/.test(e)},P={configUrl:{dev:"https://subscribe.digitalink.com",sandbox:"https://subs-stage.washingtonpost.com",prod:"https://www.washingtonpost.com/subscribe"},subsUrl:{dev:"https://subscribe.digitalink.com",sandbox:"https://subs-stage.washingtonpost.com",prod:"https://subscribe.washingtonpost.com"}},j=()=>{try{let e=(new Date).toString();window.localStorage.setItem(e,e);let t=window.localStorage.getItem(e)===e;return window.localStorage.removeItem(e),t}catch{return!1}},I=e=>P[e][E()]||P[e].prod,M=()=>{let e=v("wapo_actmgmt");return!(!e||"undefined"===e)},R=e=>{let t;if(j()&&(t=JSON.parse(localStorage.getItem(N))),t){let r={privacySetting:h(h({},t.privacySetting),e)},i=h(h({},t),r);localStorage.setItem(N,JSON.stringify(i))}},$=(e,t={})=>{let r=I("subsUrl"),i={appName:"SC",locationId:"SC:TermsOfService",message:"no message",state:{}};i=h(h({},i),t);let o=v("wapo_login_id")||"";return o&&(i.state.wapo_login_id=o),k(`${r}/logging/${e}`,{method:"POST",credentials:"include",body:JSON.stringify(i)})},A=(e,t)=>{let r=I("subsUrl"),i=null;return k(`${r}/user/auth-status?_v=${(new Date).getTime()}`,{method:"GET",credentials:"include"}).then((e=>{e&&"SUCCESS"===e.status&&!T()&&(e=>{if(j()){let t=localStorage.getItem("wapo_identity");t=t&&JSON.parse(t)||{};let r=Object.assign(t,e),i=Date.now()+864e5;r.e=i,localStorage.setItem("wapo_identity",JSON.stringify(r))}})(e.userState),i=e})).catch((e=>console.error(e))).finally((()=>(T()||R(e),t&&t(),i)))},L=()=>{let e=(()=>{let e;return j()&&(e=M()?JSON.parse(localStorage.getItem(N)):{}),e?e.privacySetting||_:{}})();return 0===Object.keys(e).length&&M()&&T()?A().then((e=>{var t;return(null==e||null===(t=e.userState)||void 0===t?void 0:t.privacySetting)||_})):Promise.resolve(e)},q=e=>Object.keys(e).reduce(((t,r)=>(t[r.toLowerCase()]=e[r],t)),{}),z=(e,t)=>{let r=new RegExp(Object.keys(t).join("|"),"gi");return null==e?void 0:e.replace(r,(e=>t[e]))},F=y(r(67294)),U=(r(45697),({onChange:e,isChecked:t,checkboxLabelClass:r,checkboxLabelStyle:i,id:o,children:a,labelSizeSm:l,disabled:n})=>{let s=`db gray-dark relative flex pt-xxs pb-xxs items-start ${r}`,c=l?"16px":"18px",d=n?"not-allowed":"";return F.default.createElement("label",{htmlFor:o,className:s},F.default.createElement("span",{className:"relative mr-xs",style:g(h({},i),{height:c,width:c})},F.default.createElement("input",{id:o,className:`tos-checkbox b bc-gray-light bg-white brad-2 relative outline-none appearance-none ma-0 ${d}`,type:"checkbox",checked:t,onChange:e,"data-testid":o,style:{height:c,width:c},disabled:n}),F.default.createElement("svg",{className:"absolute top-50 left-0 -translate-y-50  "+(t?"dib":"dn"),viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",style:{height:c,width:c}},F.default.createElement("title",null,"Check"),F.default.createElement("path",{d:"M10.052 16.245L3.265 9.46l-1.767 1.768 7.778 7.778a1.25 1.25 0 0 0 1.863-.107L23.415 3.413 21.456 1.86 10.052 16.245z",fill:"#fff",fillRule:"nonzero"}))),a)}),H=y(r(67294)),Y=(r(45697),({htmlText:e,checkboxLabelClass:t,checkboxLabelStyle:r,isRequired:i,id:o,asteriskColor:a="red"})=>H.default.createElement("span",{style:g(h({},r),{paddingTop:"1px"}),className:`db ${t||""}`},H.default.createElement("span",{"data-testid":`${o}Text`,dangerouslySetInnerHTML:{__html:e}}),i&&H.default.createElement("span",{className:`font-xxs ${a}`,style:{lineHeight:"0"}},"*"))),D=r(67294),V={tosConfig:{_:{tos:{_:{text:"I agree to The Washington Post&#39;s {{TERMS_OF_SERVICE}} and {{PRIVACY_POLICY}}.",required:!0,implicit:!1,prechecked:!1},checkout:{text:"By creating your account, you agree to The Washington Post&#39;s {{TERMS_OF_SERVICE}} and {{PRIVACY_POLICY}}.",required:!1,implicit:!0},freeTrial:{text:"By signing up for this free trial, you agree to the {{TERMS_OF_SERVICE}} and {{PRIVACY_POLICY}}.",implicit:!1}},marketingConsent:{_:{text:null,implicit:!0,prechecked:!1}}},us:{tos:{},marketingConsent:{}},ca:{tos:{},marketingConsent:{_:{text:"The Washington Post may use my email address to provide me occasional special offers via email and through other platforms. I can opt out at any time.",implicit:!1},checkout:{required:!1}}},"gb|at|be|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|nl|pl|pt|ro|sk|si|es|se|is|no|ch|li":{tos:{freeTrial:{text:"By signing up for this free trial of our <span id='ftSubType'></span>, you agree to our {{TERMS_OF_SERVICE}} and understand we process data as set forth in our {{PRIVACY_POLICY}}.",implicit:!1}},marketingConsent:{_:{text:"The Washington Post may use my email address to provide me occasional special offers via email and through other platforms. I can opt out at any time.",implicit:!1},checkout:{required:!1}}}},tosMapObj:{"{{TERMS_OF_SERVICE}}":"<a target='_blank' style='color:inherit;' class='underline' href='https://www.washingtonpost.com/terms-of-service/2011/11/18/gIQAldiYiN_story.html'>Terms of Service</a>","{{PRIVACY_POLICY}}":"<a target='_blank' style='color:inherit;' class='underline' href='https://www.washingtonpost.com/privacy-policy/2011/11/18/gIQASIiaiN_story.html'>Privacy Policy</a>","{{THIRD_PARTY_PARTNERS}}":"<a target='_blank' style='color:inherit;' class='underline' href='https://www.washingtonpost.com/third-party-partners/'>third-party partners</a>"}},W=({propTosConfig:e,propMcConfig:t,isToSNeeded:r,type:i,isConfigNeeded:o,overrideTosHidden:a,userConfigReady:l})=>{let[n,s]=(0,D.useState)(!1),[c,d]=(0,D.useState)({isChecked:!1}),[u,m]=(0,D.useState)({isChecked:!1}),[f,p]=(0,D.useState)(null),b=(()=>{let e=E(),t=v("wp_geo")||"";return t&&t.split("|")[0]?t.split("|")[0].toLowerCase():t||"prod"===e?null:"us"})(),y=o=>{let l=null==o?void 0:o.tosConfig,n=null==o?void 0:o.tosMapObj;l||(l=V.tosConfig,n=V.tosMapObj);let{tos:c,mc:u}=(({s3Config:e,country:t,propTosConfig:r={},propMcConfig:i={},isToSNeeded:o,type:a,overrideTosHidden:l,s3MapObj:n})=>{let s=e._||{},c=h(h({},null==s?void 0:s.tos._),null==s?void 0:s.tos[a]),d=h(h({},null==s?void 0:s.marketingConsent._),null==s?void 0:s.marketingConsent[a]),u={},m={},f=Object.keys(e).find((e=>e.toLowerCase().indexOf(t)>-1));if(f){var p,b,y,w;let t=q(r),o=h(h({},t._),t[f]),l=q(i),n=h(h({},l._),l[f]);u=h(h(h({},null===(p=e[f])||void 0===p?void 0:p.tos._),null===(b=e[f])||void 0===b?void 0:b.tos[a]),o),m=h(h(h({},null===(y=e[f])||void 0===y?void 0:y.marketingConsent._),null===(w=e[f])||void 0===w?void 0:w.marketingConsent[a]),n)}let C=!l&&(!o||u.prechecked);return u=g(h(h({},c),u),{isChecked:!!C}),m=g(h(h({},d),m),{isChecked:!!m.prechecked}),n&&(u.text=z(u.text,n),m.text=z(m.text,n)),{tos:u,mc:m}})({s3Config:l,country:b,propTosConfig:e,propMcConfig:t,isToSNeeded:r,type:i,overrideTosHidden:a,s3MapObj:n});d(c),m(u),s(!0)};return(0,D.useEffect)((()=>{l&&(o||e||t?f?y(f):(()=>{let e=T()?"subsUrl":"configUrl",t=I(e);return Promise.race([fetch(`${t}/static/config/tos/tos.json`,{method:"GET"}),new Promise(((e,t)=>setTimeout((()=>t(new Error("timeout"))),8e3)))])})().then((e=>e.json())).then((e=>{p(e),y(e)})).catch((e=>{console.error(e),y(V)})):s(!0))}),[l,o,r]),{tosConfig:c,mcConfig:u,ready:n,country:b,updateConfigValue:(e,t)=>{"tos"===e?d(t):"mc"===e&&m(t)}}},B=e=>{let{type:t="account",tosConfig:r,mcConfig:i,overrideTosHidden:o=!1,refreshKey:a=0}=e||{},[l,n]=(0,C.useState)({}),[s,c]=(0,C.useState)({isHidden:!1,isRequired:!1});(0,C.useEffect)((()=>{let e={},t=()=>{(e=>{let t=!1,r=!1,i=!1;return L().then((o=>{let{marketingConsent:a={},tos:l={}}=o;return r="Y"!==l.consent,(void 0===a.consent||0!=a.consent)&&(i=!0),t=e||r||i,{tos:l,marketingConsent:a,isConfigNeeded:t,isToSNeeded:r,isMcNeeded:i,userConfigReady:!0}}))})(o).then((t=>{e=t,n(t)}))},r=e=>{e&&t()},i=M();window.registerPwapiConsumer&&i?window.registerAuthConsumer?window.registerAuthConsumer(r):window.registerAuthConsumer||(window.authConsumers=window.authConsumers||[],window.authConsumers.push(r)):t(),setTimeout((()=>{i&&!e.userConfigReady&&t()}),3e3)}),[o,a]);let{isConfigNeeded:d,isToSNeeded:u,isMcNeeded:m,userConfigReady:f}=l,{tosConfig:p,mcConfig:h,ready:g,country:b,updateConfigValue:y}=W({propTosConfig:r,propMcConfig:i,isToSNeeded:u,type:t,isConfigNeeded:d,overrideTosHidden:o,userConfigReady:f});return(0,C.useEffect)((()=>{if(g){let e=(!u||p.implicit)&&!o&&(!m||h.implicit);c({isHidden:e,isRequired:!(!u||!p.required)||!(!m||!h.required)})}}),[g,l]),{ready:g,isHidden:s.isHidden,isRequired:s.isRequired,storedUserConfig:l,tosConfig:p,mcConfig:h,country:b,updateConfigValue:y}},J=e=>{let{isSubmitted:t=!1,email:r,className:i="",checkboxLabelClass:o="",checkboxLabelStyle:a={},onChange:l=(()=>{console.error("onChange function missing"),$("logFailure",{message:"onChange function missing"})}),tosConfigReady:n=(()=>{}),overrideTosHidden:s=!1,labelSizeSm:c=!0,disabled:d=!1,asteriskColor:u="red",pageLocation:m=""}=e,{storedUserConfig:f,tosConfig:p,mcConfig:b,ready:y,country:w,updateConfigValue:v}=B(e),{tos:x={},marketingConsent:O={},isConfigNeeded:S,isToSNeeded:_,isMcNeeded:E}=f,P=(!_||p.implicit)&&!s&&(!E||b.implicit);(0,C.useEffect)((()=>{y&&((!p.required&&!b.required||!S)&&l(!0),n({isHidden:P,tosConfig:p,mcConfig:b}))}),[y]),(0,C.useEffect)((()=>{p.required&&b.required?l(p.isChecked&&b.isChecked):p.required?l(p.isChecked):b.required&&l(b.isChecked)}),[p.isChecked,b.isChecked]);let j=()=>{if(!w)return console.error("SIP failed - wp_geo missing"),$("logFailure",{message:"wp_geo missing"}),void n({isHidden:P,isProcessed:!0,isSIPFailed:!0});let{consent:e,consentCountry:t}=x,{consent:i,consentCountry:o}=O,a=b.isChecked?0:1,l=b.implicit?-1:a,c=w,d=p.isChecked||!_||p.implicit?"Y":"N";10==i?(l=l<0?1:l,c=w):(void 0!==i&&!E||i>-1&&l<0||i==l)&&(l=i,c=o),((e,t,r)=>{t&&(e.email=t);let i=I("subsUrl"),o=JSON.stringify(e);k(`${i}/user/save-identity-preferences`,{method:"POST",credentials:"include",body:o}).then((t=>{if("SUCCESS"===t.status&&M()){let t=JSON.parse(localStorage.getItem(N));t&&t.signedIn?(T()||R(e.privacySetting),r()):A(e.privacySetting,r)}})).catch((e=>{console.error(e),$("logFailure",{message:"SIP failed",locationId:"SC:TermsOfService:api:/user/save-identity-preferences",state:{status:"failure",request:o}}),r("failed")}))})({privacySetting:{tos:{consent:`${d}`,consentCountry:"Y"!==e||_||s?w:t},marketingConsent:{consent:`${l}`,consentCountry:c}}},r,(e=>{n("failed"===e?{isHidden:P,isProcessed:!0,isSIPFailed:!0}:{isHidden:P,isProcessed:!0})}))};(0,C.useEffect)((()=>{t&&j()}),[t]);let L=c?"font-xxxxs":"font-xxxs",q=C.default.createElement(Y,{htmlText:p.text,isRequired:p.required,id:m?`${m}TosCheckbox`:"tosCheckbox",asteriskColor:u,checkboxLabelClass:p.implicit?`${L} ${o} pt-xxs pb-xxs gray-dark`:L,checkboxLabelStyle:a}),z=C.default.createElement(Y,{htmlText:b.text,isRequired:b.required,id:m?`${m}McCheckbox`:"mcCheckbox",asteriskColor:u,checkboxLabelClass:b.implicit?`gray-dark ${L} ${o}`:L,checkboxLabelStyle:a}),F=_||s;return C.default.createElement("div",{className:`db mt-xs mb-xs ${i}`},F&&p.text&&!p.implicit&&C.default.createElement(U,{htmlText:p.text,onChange:()=>v("tos",g(h({},p),{isChecked:!p.isChecked})),isChecked:p.isChecked,checkboxLabelClass:o,checkboxLabelStyle:a,isRequired:p.required,id:m?`${m}TosCheckbox`:"tosCheckbox",labelSizeSm:c,disabled:d},q),F&&p.text&&p.implicit&&q,E&&b.text&&!b.implicit&&C.default.createElement(U,{htmlText:b.text,onChange:()=>v("mc",g(h({},b),{isChecked:!b.isChecked})),isChecked:b.isChecked,checkboxLabelClass:o,checkboxLabelStyle:a,isRequired:b.required,id:m?`${m}McCheckbox`:"mcCheckbox",labelSizeSm:c,disabled:d},z),E&&b.text&&b.implicit&&z)}},73937:function(e,t,r){var i,o=Object.create,a=Object.defineProperty,l=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,c=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,m=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f=(e,t,r,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of n(t))!d.call(e,o)&&o!==r&&a(e,o,{get:()=>t[o],enumerable:!(i=l(t,o))||i.enumerable});return e},p={};((e,t)=>{for(var r in t)a(e,r,{get:t[r],enumerable:!0})})(p,{Timestamp:()=>b}),e.exports=(i=p,f(a({},"__esModule",{value:!0}),i));var h=((e,t,r)=>(r=null!=e?o(c(e)):{},f(!t&&e&&e.__esModule?r:a(r,"default",{value:e,enumerable:!0}),e)))(r(67294)),g=(r(45697),{FullDateWithTimezone:{formatter:e=>e.toLocaleTimeString("en-US",{timeZone:"America/New_York",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"}).replace(/(,)(.*?)(,)/,"$1$2 at").replace("PM","p.m.").replace("AM","a.m.")},FullDateAndTime:{formatter:e=>e.toLocaleTimeString("en-US",{timeZone:"America/New_York",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).replace(/(,)(.*?)(,)/,"$1$2 at").replace("PM","p.m.").replace("AM","a.m.")},FullDate:{formatter:e=>e.toLocaleTimeString("en-US",{timeZone:"America/New_York",year:"numeric",month:"long",day:"numeric"}).replace(/(,)(.*?)(,)/,"$1$2 at").replace("PM","p.m.").replace("AM","a.m.").split(" at")[0]},Time:{formatter:e=>e.toLocaleTimeString("en-US",{timeZone:"America/New_York",hour:"numeric",minute:"numeric"}).replace(/(,)(.*?)(,)/,"$1$2 at").replace("PM","p.m.").replace("AM","a.m.")},TimeWithTimeZone:{formatter:e=>e.toLocaleTimeString("en-US",{timeZone:"America/New_York",hour:"numeric",minute:"numeric",timeZoneName:"short"}).replace(/(,)(.*?)(,)/,"$1$2 at").replace("PM","p.m.").replace("AM","a.m.")},MinutesAgo:{formatter:(e,t)=>{let r=new Date-e,i=Math.floor(r/6e4);if(i<=10)return t?"just now":"Just now";if(i>10&&i<60)return`${i} ${t?"min":"minute"}${i<2||t?"":"s"} ago`;let o=Math.floor(r/36e5);return o<=3?`${o} ${t?"hr":"hour"}${o<2?"":"s"} ago`:o>3&&o<24?t?"Earlier":"Earlier today":void 0}}}),b=h.default.forwardRef((function(e,t){var r=e,{as:i="div",date:o=(new Date).toISOString(),format:a="FullDateWithTimezone",className:l="",shortFormat:n=!1}=r,c=((e,t)=>{var r={};for(var i in e)d.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&s)for(var i of s(e))t.indexOf(i)<0&&u.call(e,i)&&(r[i]=e[i]);return r})(r,["as","date","format","className","shortFormat"]);let f=i||"div",p=(0,h.useMemo)((()=>((e,t,r)=>{try{return g[t].formatter(new Date(e),r,t)}catch(a){console.error(a)}return e})(o,a,n)),[o,a,n]);return h.default.createElement(f,((e,t)=>{for(var r in t||(t={}))d.call(t,r)&&m(e,r,t[r]);if(s)for(var r of s(t))u.call(t,r)&&m(e,r,t[r]);return e})({ref:t,"data-qa":"timestamp",className:l},c),p)}));b.displayName="Timestamp"}}]);