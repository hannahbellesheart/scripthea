(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3603],{53603:function(e,t,s){"use strict";s.r(t),s.d(t,{AuthorSubscribeInterstitial:function(){return g},AuthorSubscribeInterstitialWrapper:function(){return w}});var n=s(26265),o=s(85893),r=s(67294),l=s(58677),i=s(10183),a=s(53472),u=s(93247),c=s(29208),d=s.n(c),b=s(34022),h=s(74728),p=s(98673),m=s(46519);function x(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}const f=({shouldShow:e,children:t})=>{const{0:s,1:n}=(0,r.useState)(!1);return(0,r.useEffect)((()=>{n(e)}),[e]),(0,o.jsx)("span",{className:"db border-box overflow-hidden duration-500 ease-in-out db",style:{opacity:s?1:0,transform:`translateY(${s?0:"-10px"})`},children:e&&t})},g=({author:e,authorImage:t,isFollowing:s,handleSubmitFollow:n,handleSubmitUnfollow:l,isAuthenticated:c,isOpinion:d,agreedToToS:h})=>{const{0:x,1:g}=(0,r.useState)(!1),{0:w,1:j}=(0,r.useState)(!1),{0:y,1:O}=(0,r.useState)(!1),S=(0,m.Z)(),k=s?u.Check16:a.Add16;return(0,o.jsxs)(r.Fragment,{children:[(0,o.jsxs)("div",{tabIndex:0,className:(0,b.getClasses)("flex justify-between w-100 pointer b bt pt-xs pb-xs pl-0 pr-0 pr-md border-box",{"font-xxxs":S,"font-xxs":!S}),onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),role:"button",onClick:()=>{s?l():c&&h?n({buttonTrackingPosition:"inline"}):j(!w)},children:[(0,o.jsxs)("span",{className:"flex items-center flex-shrink-0",children:[t&&(0,o.jsx)(i.Avatar,{className:"mr-xs",size:"small",imgUrl:t}),(0,o.jsxs)("span",{className:(0,b.getClasses)("transition-all duration-200",{"o-0":y&&!s,"o-100":!y||s}),children:[(0,o.jsx)("strong",{children:s?"You're following":"Follow"}),"\xa0",S&&s?"this author":e,"'s opinions"]})]}),(0,o.jsxs)("span",{className:"flex items-center",children:[(0,o.jsx)("span",{className:(0,b.getClasses)("bold mr-xs gray-dark overflow-hidden  transition-all duration-200",{"o-0":!x||w,"o-100":x&&!w,gold:d,"w-0":S}),children:s?"Following":"Follow"}),(0,o.jsx)("span",{title:"Follow author","aria-label":"Follow author","aria-pressed":w,className:(0,b.getClasses)("flex items-center transition-all duration-200",{"o-0":y&&!s,"o-100":!y||s}),style:w?{transform:"rotate(45deg)"}:{},children:(0,o.jsx)(k,{className:"pointer",fill:d?"gold":"gray-dark"})})]})]}),(0,o.jsx)(f,{maxHeight:160,shouldShow:w,children:(0,o.jsx)("div",{className:(0,b.getClasses)("pt-xs pb-sm border-box",{"pl-lg ml-xs pr-md":!S,"pl-xs pr-xs":S}),style:{maxWidth:525},children:(0,o.jsx)(p.$,{inputWrapperClasses:"mb-sm",handleSubmit:e=>{n({email:e,buttonTrackingPosition:"inline"}),O(!0)},submitCallback:()=>j(!1),buttonLayout:S?"full-width":"inline",pageLocation:"interstitial"})})}),(0,o.jsx)("span",{className:"db b bb border-box mb-sm"})]})},w=()=>{const{author:e,isOpinion:t,isFollowing:s,handleSubmitFollow:r,handleSubmitUnfollow:i,isAuthenticated:a,shouldRender:u,agreedToToS:c}=(0,h.l)({trackingPosition:"inline"}),{globalContent:b}=(0,l.bp)();if(!t)return null;const p={author:e,authorImage:d()(b,"credits.by[0].image.url",""),isFollowing:s,isOpinion:t,handleSubmitFollow:r,handleSubmitUnfollow:i,isAuthenticated:a,shouldRender:u,agreedToToS:c};return u?(0,o.jsx)(g,function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?x(Object(s),!0).forEach((function(t){(0,n.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):x(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},p)):null}}}]);